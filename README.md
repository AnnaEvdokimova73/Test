# Project Test
Проект представляет собой приложение на *Qt* с использованием *QML*, которое считывает слова из выбранного файла и выводит топ 15 слов в режиме реального времени

## QML Files
В проекте присутствует файл [CustomButton.qml](Test/CustomButton.qml), в котором определен стиль кнопок, которые есть на главной форме
Файл [main.qml](Test/main.qml) является интерфейсом, который содержит компоновку из кнопок, области отрисовки гистограмм и отрисовки прогресс бара с помощью *Canvas*. Для отображения окна при выборе файла использовался тип *FileDialog*, а для предупреждения - *MessageDialog*. Взаимодействие с кодом C++ реализовано с помощью сигналов и слотов. При считывании каждого последующего слова в файле, прогресс бар обновляется, а гистограммы обновляются только если считанное слово не являлось знаком препинания.

## Cpp/H Files
В [main.cpp](Test/main.cpp) создаем объект класса [MainHandler.h](Test/MainHandler.h), для того, чтобы установить его в контекст QML, т.е. для реализации возможности передачи данных между C++ и QML. Этот объект класса будет отвечать за вызов функций объекта класса [TextHandler.h](Test/TextHandler.h), а также за перегруппировку данных в приемлемый контейнер для JS и за излучение сигналов, по которым должен обновляться пользовательский интерфейс. 
В классе *TextHandler* реализован метод *runRead()*, который запускается по нажатию на кнопку *Старт* пользователем. В данном методе создаются два потока, в которые передаются функции. Функция *readData()* осуществляет считывание слов из файла и фильтрует пунктуацию, при этом записывает слова в контейнер *m_wordsMap*, в котором ключом являются слова, т.е. контейнер является оптимальным для записи счетчиков, чтобы не дублировать слова. В функции *getMaxes()* реализуется перезапись из упомянутого контейнера в контейнер *countMap* для получения упорядоченного списка из пар *количество слова-слово*, при этом ключи могут дублироваться. Далее сформированный контейнер передается в класс *MainHandler* для обработки и передачи на форму. 
Два потока общаются между собой при помощи *std::condition_variable* для того, чтобы контейнер обрабатывался после того, как было считано новое слово. 
В данном проекте применялись контейнеры из *STL*, поскольку *std::multimap* предоставляет возможность задать сортировку от большего к меньшему (первое значение количества всегда будет максимальным и можно обрабатывать только первые 15 значений, что требовалось из условий задачи), а также поскольку для контейнеров QMap и QMultiMap нельзя использовать распаковку кортежей. 
В коде применяется флаг остановки для того, чтобы потоки прекращали свои действия при нужном сигнале от интерфейса, который был спровоцирован пользователем.
При попытке нажатия на кнопку *Старт* в случае, когда не выбран файл для считывания, выведется предупреждающее сообщение.
При попытке нажатия на кнопку *Старт* при уже запущенном считывании выведется предупреждающее сообщение.